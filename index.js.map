{
  "version": 3,
  "sources": ["../src/index.js"],
  "sourcesContent": ["// @ts-nocheck\n\nfunction getToggleButton() {\n  return document.getElementById(\"toggleVAD\")\n}\n\nasync function main() {\n  try {\n    const myvad = await vad.MicVAD.new({\n      onSpeechStart: () => {\n        console.log(\"Speech start\")\n      },\n      onSpeechEnd: (arr) => {\n        console.log(\"Speech end\")\n        const wavBuffer = vad.utils.encodeWAV(arr)\n        const base64 = vad.utils.arrayBufferToBase64(wavBuffer)\n        const url = `data:audio/wav;base64,${base64}`\n        const el = addAudio(url)\n        const speechList = document.getElementById(\"audio-list\")\n        speechList.prepend(el)\n      },\n    })\n\n    window.myvad = myvad\n    getToggleButton().classList.remove(\"is-loading\")\n\n    window.toggleVAD = () => {\n      console.log(\"ran toggle vad\")\n      if (myvad.listening === false) {\n        myvad.start()\n        getToggleButton().textContent = \"Stop VAD\"\n      } else {\n        myvad.pause()\n        getToggleButton().textContent = \"Start VAD\"\n      }\n    }\n    window.toggleVAD()\n    getToggleButton().disabled = false\n  } catch (e) {\n    console.error(\"Failed:\", e)\n  }\n\n  function addAudio(audioUrl) {\n    const entry = document.createElement(\"li\")\n    const audio = document.createElement(\"audio\")\n    audio.controls = true\n    audio.src = audioUrl\n    entry.appendChild(audio)\n    return entry\n  }\n}\n\nmain()\n"],
  "mappings": ";;AAEA,WAAS,kBAAkB;AACzB,WAAO,SAAS,eAAe,WAAW;AAAA,EAC5C;AAEA,iBAAe,OAAO;AACpB,QAAI;AACF,YAAM,QAAQ,MAAM,IAAI,OAAO,IAAI;AAAA,QACjC,eAAe,MAAM;AACnB,kBAAQ,IAAI,cAAc;AAAA,QAC5B;AAAA,QACA,aAAa,CAAC,QAAQ;AACpB,kBAAQ,IAAI,YAAY;AACxB,gBAAM,YAAY,IAAI,MAAM,UAAU,GAAG;AACzC,gBAAM,SAAS,IAAI,MAAM,oBAAoB,SAAS;AACtD,gBAAM,MAAM,yBAAyB,MAAM;AAC3C,gBAAM,KAAK,SAAS,GAAG;AACvB,gBAAM,aAAa,SAAS,eAAe,YAAY;AACvD,qBAAW,QAAQ,EAAE;AAAA,QACvB;AAAA,MACF,CAAC;AAED,aAAO,QAAQ;AACf,sBAAgB,EAAE,UAAU,OAAO,YAAY;AAE/C,aAAO,YAAY,MAAM;AACvB,gBAAQ,IAAI,gBAAgB;AAC5B,YAAI,MAAM,cAAc,OAAO;AAC7B,gBAAM,MAAM;AACZ,0BAAgB,EAAE,cAAc;AAAA,QAClC,OAAO;AACL,gBAAM,MAAM;AACZ,0BAAgB,EAAE,cAAc;AAAA,QAClC;AAAA,MACF;AACA,aAAO,UAAU;AACjB,sBAAgB,EAAE,WAAW;AAAA,IAC/B,SAAS,GAAG;AACV,cAAQ,MAAM,WAAW,CAAC;AAAA,IAC5B;AAEA,aAAS,SAAS,UAAU;AAC1B,YAAM,QAAQ,SAAS,cAAc,IAAI;AACzC,YAAM,QAAQ,SAAS,cAAc,OAAO;AAC5C,YAAM,WAAW;AACjB,YAAM,MAAM;AACZ,YAAM,YAAY,KAAK;AACvB,aAAO;AAAA,IACT;AAAA,EACF;AAEA,OAAK;",
  "names": []
}
